import{i as Oe,o as G,c as D,b as M,g as Te,h as ae,j as bn,N as Cn,k as wn,u as m,l as It,m as N,n as W,p as E,d as $,q as K,v as Ie,x as En,T as Sn,y as J,w as rt,F as Pn,z as Gt,A as wt,B as le,C as Rn,D as Gn,E as he,_ as Fn,r as Mn,e as Nn,f as kt}from"./index-6e2e172a.js";function xn(n){for(var t=-1,e=n==null?0:n.length,i={};++t<e;){var r=n[t];i[r[0]]=r[1]}return i}const An=n=>n===void 0,On=n=>typeof n=="number",Tn=n=>Oe(n)?!Number.isNaN(Number(n)):!1;function In(n,t="px"){if(!n)return"";if(On(n)||Tn(n))return`${n}${t}`;if(Oe(n))return n}/*! Element Plus Icons Vue v2.1.0 */var kn=(n,t)=>{let e=n.__vccOpts||n;for(let[i,r]of t)e[i]=r;return e},jn={name:"Loading"},Ln={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$n=M("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),Bn=[$n];function Xn(n,t,e,i,r,s){return G(),D("svg",Ln,Bn)}var Yn=kn(jn,[["render",Xn],["__file","loading.vue"]]);const ke="__epPropKey",jt=n=>n,Hn=n=>Te(n)&&!!n[ke],je=(n,t)=>{if(!Te(n)||Hn(n))return n;const{values:e,required:i,default:r,type:s,validator:o}=n,l={type:s,required:!!i,validator:e||o?h=>{let u=!1,c=[];if(e&&(c=Array.from(e),ae(n,"default")&&c.push(r),u||(u=c.includes(h))),o&&(u||(u=o(h))),!u&&c.length>0){const f=[...new Set(c)].map(g=>JSON.stringify(g)).join(", ");bn(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${f}], got value ${JSON.stringify(h)}.`)}return u}:void 0,[ke]:!0};return ae(n,"default")&&(l.default=r),l},Le=n=>xn(Object.entries(n).map(([t,e])=>[t,je(e,t)])),ue=jt([String,Object,Function]),$e=(n,t)=>{if(n.install=e=>{for(const i of[n,...Object.values(t??{})])e.component(i.name,i)},t)for(const[e,i]of Object.entries(t))n[e]=i;return n},Un=n=>(n.install=Cn,n),Vn=["","default","small","large"],Dn=({from:n,replacement:t,scope:e,version:i,ref:r,type:s="API"},o)=>{wn(()=>m(o),a=>{},{immediate:!0})},Et="el",zn="is-",T=(n,t,e,i,r)=>{let s=`${n}-${t}`;return e&&(s+=`-${e}`),i&&(s+=`__${i}`),r&&(s+=`--${r}`),s},Jn=Symbol("namespaceContextKey"),Kn=n=>{const t=n||(It()?N(Jn,W(Et)):W(Et));return E(()=>m(t)||Et)},pt=(n,t)=>{const e=Kn(t);return{namespace:e,b:(d="")=>T(e.value,n,d,"",""),e:d=>d?T(e.value,n,"",d,""):"",m:d=>d?T(e.value,n,"","",d):"",be:(d,p)=>d&&p?T(e.value,n,d,p,""):"",em:(d,p)=>d&&p?T(e.value,n,"",d,p):"",bm:(d,p)=>d&&p?T(e.value,n,d,"",p):"",bem:(d,p,_)=>d&&p&&_?T(e.value,n,d,p,_):"",is:(d,...p)=>{const _=p.length>=1?p[0]:!0;return d&&_?`${zn}${d}`:""},cssVar:d=>{const p={};for(const _ in d)d[_]&&(p[`--${e.value}-${_}`]=d[_]);return p},cssVarName:d=>`--${e.value}-${d}`,cssVarBlock:d=>{const p={};for(const _ in d)d[_]&&(p[`--${e.value}-${n}-${_}`]=d[_]);return p},cssVarBlockName:d=>`--${e.value}-${n}-${d}`}},Be=n=>{const t=It();return E(()=>{var e,i;return(i=(e=t==null?void 0:t.proxy)==null?void 0:e.$props)==null?void 0:i[n]})},Wn=je({type:String,values:Vn,required:!1}),qn=Symbol("size"),Zn=()=>{const n=N(qn,{});return E(()=>m(n.size)||"")},Qn=Symbol(),ce=W();function ti(n,t=void 0){const e=It()?N(Qn,ce):ce;return n?E(()=>{var i,r;return(r=(i=e.value)==null?void 0:i[n])!=null?r:t}):e}var Lt=(n,t)=>{const e=n.__vccOpts||n;for(const[i,r]of t)e[i]=r;return e};const ei=Le({size:{type:jt([Number,String])},color:{type:String}}),ni=$({name:"ElIcon",inheritAttrs:!1}),ii=$({...ni,props:ei,setup(n){const t=n,e=pt("icon"),i=E(()=>{const{size:r,color:s}=t;return!r&&!s?{}:{fontSize:An(r)?void 0:In(r),"--color":s}});return(r,s)=>(G(),D("i",Ie({class:m(e).b(),style:m(i)},r.$attrs),[K(r.$slots,"default")],16))}});var ri=Lt(ii,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const fe=$e(ri),$t=Symbol("formContextKey"),Xe=Symbol("formItemContextKey"),si=(n,t={})=>{const e=W(void 0),i=t.prop?e:Be("size"),r=t.global?e:Zn(),s=t.form?{size:void 0}:N($t,void 0),o=t.formItem?{size:void 0}:N(Xe,void 0);return E(()=>i.value||m(n)||(o==null?void 0:o.size)||(s==null?void 0:s.size)||r.value||"")},Ye=n=>{const t=Be("disabled"),e=N($t,void 0);return E(()=>t.value||m(n)||(e==null?void 0:e.disabled)||!1)},oi=()=>{const n=N($t,void 0),t=N(Xe,void 0);return{form:n,formItem:t}},He=Symbol("buttonGroupContextKey"),ai=(n,t)=>{Dn({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},E(()=>n.type==="text"));const e=N(He,void 0),i=ti("button"),{form:r}=oi(),s=si(E(()=>e==null?void 0:e.size)),o=Ye(),a=W(),l=En(),h=E(()=>n.type||(e==null?void 0:e.type)||""),u=E(()=>{var y,d,p;return(p=(d=n.autoInsertSpace)!=null?d:(y=i.value)==null?void 0:y.autoInsertSpace)!=null?p:!1}),c=E(()=>n.tag==="button"?{ariaDisabled:o.value||n.loading,disabled:o.value||n.loading,autofocus:n.autofocus,type:n.nativeType}:{}),f=E(()=>{var y;const d=(y=l.default)==null?void 0:y.call(l);if(u.value&&(d==null?void 0:d.length)===1){const p=d[0];if((p==null?void 0:p.type)===Sn){const _=p.children;return/^\p{Unified_Ideograph}{2}$/u.test(_.trim())}}return!1});return{_disabled:o,_size:s,_type:h,_ref:a,_props:c,shouldAddSpace:f,handleClick:y=>{n.nativeType==="reset"&&(r==null||r.resetFields()),t("click",y)}}},li=["default","primary","success","warning","info","danger","text",""],hi=["button","submit","reset"],Ft=Le({size:Wn,disabled:Boolean,type:{type:String,values:li,default:""},icon:{type:ue},nativeType:{type:String,values:hi,default:"button"},loading:Boolean,loadingIcon:{type:ue,default:()=>Yn},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:jt([String,Object]),default:"button"}}),ui={click:n=>n instanceof MouseEvent};function C(n,t){ci(n)&&(n="100%");var e=fi(n);return n=t===360?n:Math.min(t,Math.max(0,parseFloat(n))),e&&(n=parseInt(String(n*t),10)/100),Math.abs(n-t)<1e-6?1:(t===360?n=(n<0?n%t+t:n%t)/parseFloat(String(t)):n=n%t/parseFloat(String(t)),n)}function tt(n){return Math.min(1,Math.max(0,n))}function ci(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function fi(n){return typeof n=="string"&&n.indexOf("%")!==-1}function Ue(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function et(n){return n<=1?"".concat(Number(n)*100,"%"):n}function k(n){return n.length===1?"0"+n:String(n)}function gi(n,t,e){return{r:C(n,255)*255,g:C(t,255)*255,b:C(e,255)*255}}function ge(n,t,e){n=C(n,255),t=C(t,255),e=C(e,255);var i=Math.max(n,t,e),r=Math.min(n,t,e),s=0,o=0,a=(i+r)/2;if(i===r)o=0,s=0;else{var l=i-r;switch(o=a>.5?l/(2-i-r):l/(i+r),i){case n:s=(t-e)/l+(t<e?6:0);break;case t:s=(e-n)/l+2;break;case e:s=(n-t)/l+4;break}s/=6}return{h:s,s:o,l:a}}function St(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*(6*e):e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function di(n,t,e){var i,r,s;if(n=C(n,360),t=C(t,100),e=C(e,100),t===0)r=e,s=e,i=e;else{var o=e<.5?e*(1+t):e+t-e*t,a=2*e-o;i=St(a,o,n+1/3),r=St(a,o,n),s=St(a,o,n-1/3)}return{r:i*255,g:r*255,b:s*255}}function de(n,t,e){n=C(n,255),t=C(t,255),e=C(e,255);var i=Math.max(n,t,e),r=Math.min(n,t,e),s=0,o=i,a=i-r,l=i===0?0:a/i;if(i===r)s=0;else{switch(i){case n:s=(t-e)/a+(t<e?6:0);break;case t:s=(e-n)/a+2;break;case e:s=(n-t)/a+4;break}s/=6}return{h:s,s:l,v:o}}function pi(n,t,e){n=C(n,360)*6,t=C(t,100),e=C(e,100);var i=Math.floor(n),r=n-i,s=e*(1-t),o=e*(1-r*t),a=e*(1-(1-r)*t),l=i%6,h=[e,o,s,s,a,e][l],u=[a,e,e,o,s,s][l],c=[s,s,a,e,e,o][l];return{r:h*255,g:u*255,b:c*255}}function pe(n,t,e,i){var r=[k(Math.round(n).toString(16)),k(Math.round(t).toString(16)),k(Math.round(e).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function yi(n,t,e,i,r){var s=[k(Math.round(n).toString(16)),k(Math.round(t).toString(16)),k(Math.round(e).toString(16)),k(mi(i))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function mi(n){return Math.round(parseFloat(n)*255).toString(16)}function ye(n){return S(n)/255}function S(n){return parseInt(n,16)}function vi(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var Mt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function _i(n){var t={r:0,g:0,b:0},e=1,i=null,r=null,s=null,o=!1,a=!1;return typeof n=="string"&&(n=wi(n)),typeof n=="object"&&(F(n.r)&&F(n.g)&&F(n.b)?(t=gi(n.r,n.g,n.b),o=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):F(n.h)&&F(n.s)&&F(n.v)?(i=et(n.s),r=et(n.v),t=pi(n.h,i,r),o=!0,a="hsv"):F(n.h)&&F(n.s)&&F(n.l)&&(i=et(n.s),s=et(n.l),t=di(n.h,i,s),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(e=n.a)),e=Ue(e),{ok:o,format:n.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:e}}var bi="[-\\+]?\\d+%?",Ci="[-\\+]?\\d*\\.\\d+%?",A="(?:".concat(Ci,")|(?:").concat(bi,")"),Pt="[\\s|\\(]+(".concat(A,")[,|\\s]+(").concat(A,")[,|\\s]+(").concat(A,")\\s*\\)?"),Rt="[\\s|\\(]+(".concat(A,")[,|\\s]+(").concat(A,")[,|\\s]+(").concat(A,")[,|\\s]+(").concat(A,")\\s*\\)?"),R={CSS_UNIT:new RegExp(A),rgb:new RegExp("rgb"+Pt),rgba:new RegExp("rgba"+Rt),hsl:new RegExp("hsl"+Pt),hsla:new RegExp("hsla"+Rt),hsv:new RegExp("hsv"+Pt),hsva:new RegExp("hsva"+Rt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function wi(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var t=!1;if(Mt[n])n=Mt[n],t=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var e=R.rgb.exec(n);return e?{r:e[1],g:e[2],b:e[3]}:(e=R.rgba.exec(n),e?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=R.hsl.exec(n),e?{h:e[1],s:e[2],l:e[3]}:(e=R.hsla.exec(n),e?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=R.hsv.exec(n),e?{h:e[1],s:e[2],v:e[3]}:(e=R.hsva.exec(n),e?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=R.hex8.exec(n),e?{r:S(e[1]),g:S(e[2]),b:S(e[3]),a:ye(e[4]),format:t?"name":"hex8"}:(e=R.hex6.exec(n),e?{r:S(e[1]),g:S(e[2]),b:S(e[3]),format:t?"name":"hex"}:(e=R.hex4.exec(n),e?{r:S(e[1]+e[1]),g:S(e[2]+e[2]),b:S(e[3]+e[3]),a:ye(e[4]+e[4]),format:t?"name":"hex8"}:(e=R.hex3.exec(n),e?{r:S(e[1]+e[1]),g:S(e[2]+e[2]),b:S(e[3]+e[3]),format:t?"name":"hex"}:!1)))))))))}function F(n){return!!R.CSS_UNIT.exec(String(n))}var Ei=function(){function n(t,e){t===void 0&&(t=""),e===void 0&&(e={});var i;if(t instanceof n)return t;typeof t=="number"&&(t=vi(t)),this.originalInput=t;var r=_i(t);this.originalInput=t,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=e.format)!==null&&i!==void 0?i:r.format,this.gradientType=e.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},n.prototype.getLuminance=function(){var t=this.toRgb(),e,i,r,s=t.r/255,o=t.g/255,a=t.b/255;return s<=.03928?e=s/12.92:e=Math.pow((s+.055)/1.055,2.4),o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),.2126*e+.7152*i+.0722*r},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(t){return this.a=Ue(t),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},n.prototype.toHsv=function(){var t=de(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},n.prototype.toHsvString=function(){var t=de(this.r,this.g,this.b),e=Math.round(t.h*360),i=Math.round(t.s*100),r=Math.round(t.v*100);return this.a===1?"hsv(".concat(e,", ").concat(i,"%, ").concat(r,"%)"):"hsva(".concat(e,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var t=ge(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},n.prototype.toHslString=function(){var t=ge(this.r,this.g,this.b),e=Math.round(t.h*360),i=Math.round(t.s*100),r=Math.round(t.l*100);return this.a===1?"hsl(".concat(e,", ").concat(i,"%, ").concat(r,"%)"):"hsla(".concat(e,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(t){return t===void 0&&(t=!1),pe(this.r,this.g,this.b,t)},n.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},n.prototype.toHex8=function(t){return t===void 0&&(t=!1),yi(this.r,this.g,this.b,this.a,t)},n.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},n.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(e,", ").concat(i,")"):"rgba(".concat(t,", ").concat(e,", ").concat(i,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var t=function(e){return"".concat(Math.round(C(e,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var t=function(e){return Math.round(C(e,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+pe(this.r,this.g,this.b,!1),e=0,i=Object.entries(Mt);e<i.length;e++){var r=i[e],s=r[0],o=r[1];if(t===o)return s}return!1},n.prototype.toString=function(t){var e=!!t;t=t??this.format;var i=!1,r=this.a<1&&this.a>=0,s=!e&&r&&(t.startsWith("hex")||t==="name");return s?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(i=this.toRgbString()),t==="prgb"&&(i=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(i=this.toHexString()),t==="hex3"&&(i=this.toHexString(!0)),t==="hex4"&&(i=this.toHex8String(!0)),t==="hex8"&&(i=this.toHex8String()),t==="name"&&(i=this.toName()),t==="hsl"&&(i=this.toHslString()),t==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.l+=t/100,e.l=tt(e.l),new n(e)},n.prototype.brighten=function(t){t===void 0&&(t=10);var e=this.toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(255*-(t/100)))),e.g=Math.max(0,Math.min(255,e.g-Math.round(255*-(t/100)))),e.b=Math.max(0,Math.min(255,e.b-Math.round(255*-(t/100)))),new n(e)},n.prototype.darken=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.l-=t/100,e.l=tt(e.l),new n(e)},n.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},n.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},n.prototype.desaturate=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.s-=t/100,e.s=tt(e.s),new n(e)},n.prototype.saturate=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.s+=t/100,e.s=tt(e.s),new n(e)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(t){var e=this.toHsl(),i=(e.h+t)%360;return e.h=i<0?360+i:i,new n(e)},n.prototype.mix=function(t,e){e===void 0&&(e=50);var i=this.toRgb(),r=new n(t).toRgb(),s=e/100,o={r:(r.r-i.r)*s+i.r,g:(r.g-i.g)*s+i.g,b:(r.b-i.b)*s+i.b,a:(r.a-i.a)*s+i.a};return new n(o)},n.prototype.analogous=function(t,e){t===void 0&&(t=6),e===void 0&&(e=30);var i=this.toHsl(),r=360/e,s=[this];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,s.push(new n(i));return s},n.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new n(t)},n.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var e=this.toHsv(),i=e.h,r=e.s,s=e.v,o=[],a=1/t;t--;)o.push(new n({h:i,s:r,v:s})),s=(s+a)%1;return o},n.prototype.splitcomplement=function(){var t=this.toHsl(),e=t.h;return[this,new n({h:(e+72)%360,s:t.s,l:t.l}),new n({h:(e+216)%360,s:t.s,l:t.l})]},n.prototype.onBackground=function(t){var e=this.toRgb(),i=new n(t).toRgb(),r=e.a+i.a*(1-e.a);return new n({r:(e.r*e.a+i.r*i.a*(1-e.a))/r,g:(e.g*e.a+i.g*i.a*(1-e.a))/r,b:(e.b*e.a+i.b*i.a*(1-e.a))/r,a:r})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(t){for(var e=this.toHsl(),i=e.h,r=[this],s=360/t,o=1;o<t;o++)r.push(new n({h:(i+o*s)%360,s:e.s,l:e.l}));return r},n.prototype.equals=function(t){return this.toRgbString()===new n(t).toRgbString()},n}();function x(n,t=20){return n.mix("#141414",t).toString()}function Si(n){const t=Ye(),e=pt("button");return E(()=>{let i={};const r=n.color;if(r){const s=new Ei(r),o=n.dark?s.tint(20).toString():x(s,20);if(n.plain)i=e.cssVarBlock({"bg-color":n.dark?x(s,90):s.tint(90).toString(),"text-color":r,"border-color":n.dark?x(s,50):s.tint(50).toString(),"hover-text-color":`var(${e.cssVarName("color-white")})`,"hover-bg-color":r,"hover-border-color":r,"active-bg-color":o,"active-text-color":`var(${e.cssVarName("color-white")})`,"active-border-color":o}),t.value&&(i[e.cssVarBlockName("disabled-bg-color")]=n.dark?x(s,90):s.tint(90).toString(),i[e.cssVarBlockName("disabled-text-color")]=n.dark?x(s,50):s.tint(50).toString(),i[e.cssVarBlockName("disabled-border-color")]=n.dark?x(s,80):s.tint(80).toString());else{const a=n.dark?x(s,30):s.tint(30).toString(),l=s.isDark()?`var(${e.cssVarName("color-white")})`:`var(${e.cssVarName("color-black")})`;if(i=e.cssVarBlock({"bg-color":r,"text-color":l,"border-color":r,"hover-bg-color":a,"hover-text-color":l,"hover-border-color":a,"active-bg-color":o,"active-border-color":o}),t.value){const h=n.dark?x(s,50):s.tint(50).toString();i[e.cssVarBlockName("disabled-bg-color")]=h,i[e.cssVarBlockName("disabled-text-color")]=n.dark?"rgba(255, 255, 255, 0.5)":`var(${e.cssVarName("color-white")})`,i[e.cssVarBlockName("disabled-border-color")]=h}}}return i})}const Pi=$({name:"ElButton"}),Ri=$({...Pi,props:Ft,emits:ui,setup(n,{expose:t,emit:e}){const i=n,r=Si(i),s=pt("button"),{_ref:o,_size:a,_type:l,_disabled:h,_props:u,shouldAddSpace:c,handleClick:f}=ai(i,e);return t({ref:o,size:a,type:l,disabled:h,shouldAddSpace:c}),(g,y)=>(G(),J(wt(g.tag),Ie({ref_key:"_ref",ref:o},m(u),{class:[m(s).b(),m(s).m(m(l)),m(s).m(m(a)),m(s).is("disabled",m(h)),m(s).is("loading",g.loading),m(s).is("plain",g.plain),m(s).is("round",g.round),m(s).is("circle",g.circle),m(s).is("text",g.text),m(s).is("link",g.link),m(s).is("has-bg",g.bg)],style:m(r),onClick:m(f)}),{default:rt(()=>[g.loading?(G(),D(Pn,{key:0},[g.$slots.loading?K(g.$slots,"loading",{key:0}):(G(),J(m(fe),{key:1,class:Gt(m(s).is("loading"))},{default:rt(()=>[(G(),J(wt(g.loadingIcon)))]),_:1},8,["class"]))],64)):g.icon||g.$slots.icon?(G(),J(m(fe),{key:1},{default:rt(()=>[g.icon?(G(),J(wt(g.icon),{key:0})):K(g.$slots,"icon",{key:1})]),_:3})):le("v-if",!0),g.$slots.default?(G(),D("span",{key:2,class:Gt({[m(s).em("text","expand")]:m(c)})},[K(g.$slots,"default")],2)):le("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Gi=Lt(Ri,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const Fi={size:Ft.size,type:Ft.type},Mi=$({name:"ElButtonGroup"}),Ni=$({...Mi,props:Fi,setup(n){const t=n;Rn(He,Gn({size:he(t,"size"),type:he(t,"type")}));const e=pt("button");return(i,r)=>(G(),D("div",{class:Gt(`${m(e).b("group")}`)},[K(i.$slots,"default")],2))}});var Ve=Lt(Ni,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const xi=$e(Gi,{ButtonGroup:Ve});Un(Ve);function Ai(n){return Oi(n).then(t=>{try{return JSON.parse(t)}catch(e){return Promise.reject(e)}})}function Oi(n,t){return De(n,"Text",t)}function De(n,t,e){return new Promise((i,r)=>{let s=new FileReader;const o=()=>{const h=s.result;t==="Text"&&e!=="GB2312"&&h.includes("�")?i(De(n,t,"GB2312")):i(h),l()},a=h=>{r(h),l()},l=()=>{s.removeEventListener("loadend",o),s.removeEventListener("error",a),s=null};switch(s.addEventListener("loadend",o),s.addEventListener("error",a),t){case"Text":s.readAsText(n,e);break;default:s.readAsArrayBuffer(n)}})}function Ti(n,t){const e=document.createElement("a");e.href=n,e.target="_blank",e.download=t||"",e.style.position="absolute",e.style.top="-10000px",document.body.appendChild(e),setTimeout(()=>e.remove()),e.click()}function Ii(n,t){const e=new Blob([n]);ki(e,t)}function ki(n,t){const e=URL.createObjectURL(n);Ti(e,t),URL.revokeObjectURL(e)}class ji{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const ze=ji,Li={PROPERTYCHANGE:"propertychange"};class $i{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}const Bi=$i;function Xi(n,t,e){let i,r;e=e||Je;let s=0,o=n.length,a=!1;for(;s<o;)i=s+(o-s>>1),r=+e(n[i],t),r<0?s=i+1:(o=i,a=!r);return a?s:~s}function Je(n,t){return n>t?1:n<t?-1:0}function O(n,t){const e=Array.isArray(t)?t:[t],i=e.length;for(let r=0;r<i;r++)n[n.length]=e[r]}function Yi(n,t){const e=n.length;if(e!==t.length)return!1;for(let i=0;i<e;i++)if(n[i]!==t[i])return!1;return!0}function me(){}function Hi(n){let t=!1,e,i,r;return function(){const s=Array.prototype.slice.call(arguments);return(!t||this!==r||!Yi(s,i))&&(t=!0,r=this,i=s,e=n.apply(this,arguments)),e}}function Ke(n){for(const t in n)delete n[t]}function We(n){let t;for(t in n)return!1;return!t}class Ui extends Bi{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const i=this.listeners_||(this.listeners_={}),r=i[t]||(i[t]=[]);r.includes(e)||r.push(e)}dispatchEvent(t){const e=typeof t=="string",i=e?t:t.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const s=e?new ze(t):t;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,a[i]=0),++o[i];let l;for(let h=0,u=r.length;h<u;++h)if("handleEvent"in r[h]?l=r[h].handleEvent(s):l=r[h].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--o[i]===0){let h=a[i];for(delete a[i];h--;)this.removeEventListener(i,me);delete o[i]}return l}disposeInternal(){this.listeners_&&Ke(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,e){const i=this.listeners_&&this.listeners_[t];if(i){const r=i.indexOf(e);r!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[r]=me,++this.pendingRemovals_[t]):(i.splice(r,1),i.length===0&&delete this.listeners_[t]))}}}const Vi=Ui,Bt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function q(n,t,e,i,r){if(i&&i!==n&&(e=e.bind(i)),r){const o=e;e=function(){n.removeEventListener(t,e),o.apply(this,arguments)}}const s={target:n,type:t,listener:e};return n.addEventListener(t,e),s}function ve(n,t,e,i){return q(n,t,e,i,!0)}function st(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),Ke(n))}class yt extends Vi{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Bt.CHANGE)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const i=t.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=q(this,t[s],e);return r}return q(this,t,e)}onceInternal(t,e){let i;if(Array.isArray(t)){const r=t.length;i=new Array(r);for(let s=0;s<r;++s)i[s]=ve(this,t[s],e)}else i=ve(this,t,e);return e.ol_key=i,i}unInternal(t,e){const i=e.ol_key;if(i)Di(i);else if(Array.isArray(t))for(let r=0,s=t.length;r<s;++r)this.removeEventListener(t[r],e);else this.removeEventListener(t,e)}}yt.prototype.on;yt.prototype.once;yt.prototype.un;function Di(n){if(Array.isArray(n))for(let t=0,e=n.length;t<e;++t)st(n[t]);else st(n)}const zi=yt;function v(){throw new Error("Unimplemented abstract method.")}let Ji=0;function Ki(n){return n.ol_uid||(n.ol_uid=String(++Ji))}class _e extends ze{constructor(t,e,i){super(t),this.key=e,this.oldValue=i}}class Wi extends zi{constructor(t){super(),this.on,this.once,this.un,Ki(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,e){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new _e(i,t,e)),i=Li.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new _e(i,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,i){const r=this.values_||(this.values_={});if(i)r[t]=e;else{const s=r[t];r[t]=e,s!==e&&this.notify(t,s)}}setProperties(t,e){for(const i in t)this.set(i,t[i],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const i=this.values_[t];delete this.values_[t],We(this.values_)&&(this.values_=null),e||this.notify(t,i)}}}const qe=Wi;function qi(n,t){if(!n)throw new Error(t)}class Xt extends qe{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const e=t;this.setGeometry(e)}else{const e=t;this.setProperties(e)}}clone(){const t=new Xt(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&t.setGeometry(e.clone());const i=this.getStyle();return i&&t.setStyle(i),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(st(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=q(t,Bt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?Zi(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function Zi(n){if(typeof n=="function")return n;let t;return Array.isArray(n)?t=n:(qi(typeof n.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[n]),function(){return t}}const Ze=Xt,Qi={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class tr{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Qi[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Qe=tr,Q=6378137,U=Math.PI*Q,er=[-U,-U,U,U],nr=[-180,-85,180,85],nt=Q*Math.log(Math.tan(Math.PI/2));class Y extends Qe{constructor(t){super({code:t,units:"m",extent:er,global:!0,worldExtent:nr,getPointResolution:function(e,i){return e/Math.cosh(i[1]/Q)}})}}const be=[new Y("EPSG:3857"),new Y("EPSG:102100"),new Y("EPSG:102113"),new Y("EPSG:900913"),new Y("http://www.opengis.net/def/crs/EPSG/0/3857"),new Y("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ir(n,t,e){const i=n.length;e=e>1?e:2,t===void 0&&(e>2?t=n.slice():t=new Array(i));for(let r=0;r<i;r+=e){t[r]=U*n[r]/180;let s=Q*Math.log(Math.tan(Math.PI*(+n[r+1]+90)/360));s>nt?s=nt:s<-nt&&(s=-nt),t[r+1]=s}return t}function rr(n,t,e){const i=n.length;e=e>1?e:2,t===void 0&&(e>2?t=n.slice():t=new Array(i));for(let r=0;r<i;r+=e)t[r]=180*n[r]/U,t[r+1]=360*Math.atan(Math.exp(n[r+1]/Q))/Math.PI-90;return t}const sr=6378137,Ce=[-180,-90,180,90],or=Math.PI*sr/180;class I extends Qe{constructor(t,e){super({code:t,units:"degrees",extent:Ce,axisOrientation:e,global:!0,metersPerUnit:or,worldExtent:Ce})}}const we=[new I("CRS:84"),new I("EPSG:4326","neu"),new I("urn:ogc:def:crs:OGC:1.3:CRS84"),new I("urn:ogc:def:crs:OGC:2:84"),new I("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new I("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new I("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Nt={};function ar(n){return Nt[n]||Nt[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function lr(n,t){Nt[n]=t}let V={};function ot(n,t,e){const i=n.getCode(),r=t.getCode();i in V||(V[i]={}),V[i][r]=e}function hr(n,t){let e;return n in V&&t in V[n]&&(e=V[n][t]),e}const b={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function B(n,t,e){let i,r;return t<n[0]?i=n[0]-t:n[2]<t?i=t-n[2]:i=0,e<n[1]?r=n[1]-e:n[3]<e?r=e-n[3]:r=0,i*i+r*r}function ur(n,t){return n[0]<=t[0]&&t[2]<=n[2]&&n[1]<=t[1]&&t[3]<=n[3]}function tn(n,t,e){return n[0]<=t&&t<=n[2]&&n[1]<=e&&e<=n[3]}function Ee(n,t){const e=n[0],i=n[1],r=n[2],s=n[3],o=t[0],a=t[1];let l=b.UNKNOWN;return o<e?l=l|b.LEFT:o>r&&(l=l|b.RIGHT),a<i?l=l|b.BELOW:a>s&&(l=l|b.ABOVE),l===b.UNKNOWN&&(l=b.INTERSECTING),l}function Yt(){return[1/0,1/0,-1/0,-1/0]}function en(n,t,e,i,r){return r?(r[0]=n,r[1]=t,r[2]=e,r[3]=i,r):[n,t,e,i]}function Ht(n){return en(1/0,1/0,-1/0,-1/0,n)}function cr(n,t){const e=n[0],i=n[1];return en(e,i,e,i,t)}function nn(n,t,e,i,r){const s=Ht(r);return rn(s,n,t,e,i)}function fr(n,t){return t[0]<n[0]&&(n[0]=t[0]),t[2]>n[2]&&(n[2]=t[2]),t[1]<n[1]&&(n[1]=t[1]),t[3]>n[3]&&(n[3]=t[3]),n}function rn(n,t,e,i,r){for(;e<i;e+=r)gr(n,t[e],t[e+1]);return n}function gr(n,t,e){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}function dr(n,t){let e;return e=t(pr(n)),e||(e=t(yr(n)),e)||(e=t(vr(n)),e)||(e=t(mr(n)),e)?e:!1}function pr(n){return[n[0],n[1]]}function yr(n){return[n[2],n[1]]}function Ut(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function Se(n){return n[3]-n[1]}function mr(n){return[n[0],n[3]]}function vr(n){return[n[2],n[3]]}function _r(n,t){return n[0]<=t[2]&&n[2]>=t[0]&&n[1]<=t[3]&&n[3]>=t[1]}function br(n,t){return t?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t):n}function Cr(n,t,e){let i=!1;const r=Ee(n,t),s=Ee(n,e);if(r===b.INTERSECTING||s===b.INTERSECTING)i=!0;else{const o=n[0],a=n[1],l=n[2],h=n[3],u=t[0],c=t[1],f=e[0],g=e[1],y=(g-c)/(f-u);let d,p;s&b.ABOVE&&!(r&b.ABOVE)&&(d=f-(g-h)/y,i=d>=o&&d<=l),!i&&s&b.RIGHT&&!(r&b.RIGHT)&&(p=g-(f-l)*y,i=p>=a&&p<=h),!i&&s&b.BELOW&&!(r&b.BELOW)&&(d=f-(g-a)/y,i=d>=o&&d<=l),!i&&s&b.LEFT&&!(r&b.LEFT)&&(p=g-(f-o)*y,i=p>=a&&p<=h)}return i}function wr(n,t,e,i,r,s){const o=r-e,a=s-i;if(o!==0||a!==0){const l=((n-e)*o+(t-i)*a)/(o*o+a*a);l>1?(e=r,i=s):l>0&&(e+=o*l,i+=a*l)}return L(n,t,e,i)}function L(n,t,e,i){const r=e-n,s=i-t;return r*r+s*s}function Vt(n,t,e){return n+e*(t-n)}function Dt(n,t){if(t!==void 0){for(let e=0,i=n.length;e<i;++e)t[e]=n[e];t=t}else t=n.slice();return t}function Er(n,t){if(t!==void 0&&n!==t){for(let e=0,i=n.length;e<i;++e)t[e]=n[e];n=t}return n}function Sr(n){lr(n.getCode(),n),ot(n,n,Dt)}function Pr(n){n.forEach(Sr)}function P(n){return typeof n=="string"?ar(n):n||null}function Pe(n){Pr(n),n.forEach(function(t){n.forEach(function(e){t!==e&&ot(t,e,Dt)})})}function Rr(n,t,e,i){n.forEach(function(r){t.forEach(function(s){ot(r,s,e),ot(s,r,i)})})}function Gr(n,t){if(n===t)return!0;const e=n.getUnits()===t.getUnits();return(n.getCode()===t.getCode()||sn(n,t)===Dt)&&e}function sn(n,t){const e=n.getCode(),i=t.getCode();let r=hr(e,i);return r||(r=Er),r}function Re(n,t){const e=P(n),i=P(t);return sn(e,i)}function Fr(){Pe(be),Pe(we),Rr(we,be,ir,rr)}Fr();class Mr{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(t,e){if(e){let i=e.dataProjection?P(e.dataProjection):this.readProjection(t);e.extent&&i&&i.getUnits()==="tile-pixels"&&(i=P(i),i.setWorldExtent(e.extent)),e={dataProjection:i,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)}getType(){return v()}readFeature(t,e){return v()}readFeatures(t,e){return v()}readGeometry(t,e){return v()}readProjection(t){return v()}writeFeature(t,e){return v()}writeFeatures(t,e){return v()}writeGeometry(t,e){return v()}}function zt(n,t,e){const i=e?P(e.featureProjection):null,r=e?P(e.dataProjection):null;let s;if(i&&r&&!Gr(i,r)?s=(t?n.clone():n).transform(t?i:r,t?r:i):s=n,t&&e&&e.decimals!==void 0){const o=Math.pow(10,e.decimals),a=function(l){for(let h=0,u=l.length;h<u;++h)l[h]=Math.round(l[h]*o)/o;return l};s===n&&(s=n.clone()),s.applyTransform(a)}return s}class Nr extends Mr{constructor(){super()}getType(){return"json"}readFeature(t,e){return this.readFeatureFromObject(it(t),this.getReadOptions(t,e))}readFeatures(t,e){return this.readFeaturesFromObject(it(t),this.getReadOptions(t,e))}readFeatureFromObject(t,e){return v()}readFeaturesFromObject(t,e){return v()}readGeometry(t,e){return this.readGeometryFromObject(it(t),this.getReadOptions(t,e))}readGeometryFromObject(t,e){return v()}readProjection(t){return this.readProjectionFromObject(it(t))}readProjectionFromObject(t){return v()}writeFeature(t,e){return JSON.stringify(this.writeFeatureObject(t,e))}writeFeatureObject(t,e){return v()}writeFeatures(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))}writeFeaturesObject(t,e){return v()}writeGeometry(t,e){return JSON.stringify(this.writeGeometryObject(t,e))}writeGeometryObject(t,e){return v()}}function it(n){if(typeof n=="string"){const t=JSON.parse(n);return t||null}return n!==null?n:null}const on=Nr;new Array(6);function xr(){return[1,0,0,1,0,0]}function Ar(n,t,e,i,r,s,o,a){const l=Math.sin(s),h=Math.cos(s);return n[0]=i*h,n[1]=r*l,n[2]=-i*l,n[3]=r*h,n[4]=o*i*h-a*i*l+t,n[5]=o*r*l+a*r*h+e,n}function Or(n,t,e,i,r,s){s=s||[];let o=0;for(let a=t;a<e;a+=i){const l=n[a],h=n[a+1];s[o++]=r[0]*l+r[2]*h+r[4],s[o++]=r[1]*l+r[3]*h+r[5]}return s&&s.length!=o&&(s.length=o),s}function Tr(n,t,e,i,r,s,o){o=o||[];const a=Math.cos(r),l=Math.sin(r),h=s[0],u=s[1];let c=0;for(let f=t;f<e;f+=i){const g=n[f]-h,y=n[f+1]-u;o[c++]=h+g*a-y*l,o[c++]=u+g*l+y*a;for(let d=f+2;d<f+i;++d)o[c++]=n[d]}return o&&o.length!=c&&(o.length=c),o}function Ir(n,t,e,i,r,s,o,a){a=a||[];const l=o[0],h=o[1];let u=0;for(let c=t;c<e;c+=i){const f=n[c]-l,g=n[c+1]-h;a[u++]=l+r*f,a[u++]=h+s*g;for(let y=c+2;y<c+i;++y)a[u++]=n[y]}return a&&a.length!=u&&(a.length=u),a}function kr(n,t,e,i,r,s,o){o=o||[];let a=0;for(let l=t;l<e;l+=i){o[a++]=n[l]+r,o[a++]=n[l+1]+s;for(let h=l+2;h<l+i;++h)o[a++]=n[h]}return o&&o.length!=a&&(o.length=a),o}const Ge=xr();class jr extends qe{constructor(){super(),this.extent_=Yt(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Hi(function(t,e,i){if(!i)return this.getSimplifiedGeometry(e);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(e)})}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return v()}closestPointXY(t,e,i,r){return v()}containsXY(t,e){const i=this.getClosestPoint([t,e]);return i[0]===t&&i[1]===e}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return v()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&Ht(e),this.extentRevision_=this.getRevision()}return br(this.extent_,t)}rotate(t,e){v()}scale(t,e,i){v()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return v()}getType(){return v()}applyTransform(t){v()}intersectsExtent(t){return v()}translate(t,e){v()}transform(t,e){const i=P(t),r=i.getUnits()=="tile-pixels"?function(s,o,a){const l=i.getExtent(),h=i.getWorldExtent(),u=Se(h)/Se(l);return Ar(Ge,h[0],h[3],u,-u,0,0,0),Or(s,0,s.length,a,Ge,o),Re(i,e)(s,o,a)}:Re(i,e);return this.applyTransform(r),this}}const an=jr;class Lr extends an{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(t){return nn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return v()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=Fe(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){v()}setLayout(t,e,i){let r;if(t)r=Fe(t);else{for(let s=0;s<i;++s){if(e.length===0){this.layout="XY",this.stride=2;return}e=e[0]}r=e.length,t=$r(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,e){const i=this.getFlatCoordinates();if(i){const r=this.getStride();Tr(i,0,i.length,r,t,e,i),this.changed()}}scale(t,e,i){e===void 0&&(e=t),i||(i=Ut(this.getExtent()));const r=this.getFlatCoordinates();if(r){const s=this.getStride();Ir(r,0,r.length,s,t,e,i,r),this.changed()}}translate(t,e){const i=this.getFlatCoordinates();if(i){const r=this.getStride();kr(i,0,i.length,r,t,e,i),this.changed()}}}function $r(n){let t;return n==2?t="XY":n==3?t="XYZ":n==4&&(t="XYZM"),t}function Fe(n){let t;return n=="XY"?t=2:n=="XYZ"||n=="XYM"?t=3:n=="XYZM"&&(t=4),t}const X=Lr;function Me(n,t,e,i,r,s,o){const a=n[t],l=n[t+1],h=n[e]-a,u=n[e+1]-l;let c;if(h===0&&u===0)c=t;else{const f=((r-a)*h+(s-l)*u)/(h*h+u*u);if(f>1)c=e;else if(f>0){for(let g=0;g<i;++g)o[g]=Vt(n[t+g],n[e+g],f);o.length=i;return}else c=t}for(let f=0;f<i;++f)o[f]=n[c+f];o.length=i}function Jt(n,t,e,i,r){let s=n[t],o=n[t+1];for(t+=i;t<e;t+=i){const a=n[t],l=n[t+1],h=L(s,o,a,l);h>r&&(r=h),s=a,o=l}return r}function Kt(n,t,e,i,r){for(let s=0,o=e.length;s<o;++s){const a=e[s];r=Jt(n,t,a,i,r),t=a}return r}function Br(n,t,e,i,r){for(let s=0,o=e.length;s<o;++s){const a=e[s];r=Kt(n,t,a,i,r),t=a[a.length-1]}return r}function Wt(n,t,e,i,r,s,o,a,l,h,u){if(t==e)return h;let c,f;if(r===0){if(f=L(o,a,n[t],n[t+1]),f<h){for(c=0;c<i;++c)l[c]=n[t+c];return l.length=i,f}return h}u=u||[NaN,NaN];let g=t+i;for(;g<e;)if(Me(n,g-i,g,i,o,a,u),f=L(o,a,u[0],u[1]),f<h){for(h=f,c=0;c<i;++c)l[c]=u[c];l.length=i,g+=i}else g+=i*Math.max((Math.sqrt(f)-Math.sqrt(h))/r|0,1);if(s&&(Me(n,e-i,t,i,o,a,u),f=L(o,a,u[0],u[1]),f<h)){for(h=f,c=0;c<i;++c)l[c]=u[c];l.length=i}return h}function qt(n,t,e,i,r,s,o,a,l,h,u){u=u||[NaN,NaN];for(let c=0,f=e.length;c<f;++c){const g=e[c];h=Wt(n,t,g,i,r,s,o,a,l,h,u),t=g}return h}function Xr(n,t,e,i,r,s,o,a,l,h,u){u=u||[NaN,NaN];for(let c=0,f=e.length;c<f;++c){const g=e[c];h=qt(n,t,g,i,r,s,o,a,l,h,u),t=g[g.length-1]}return h}function Yr(n,t,e,i){for(let r=0,s=e.length;r<s;++r)n[t++]=e[r];return t}function mt(n,t,e,i){for(let r=0,s=e.length;r<s;++r){const o=e[r];for(let a=0;a<i;++a)n[t++]=o[a]}return t}function Zt(n,t,e,i,r){r=r||[];let s=0;for(let o=0,a=e.length;o<a;++o){const l=mt(n,t,e[o],i);r[s++]=l,t=l}return r.length=s,r}function Hr(n,t,e,i,r){r=r||[];let s=0;for(let o=0,a=e.length;o<a;++o){const l=Zt(n,t,e[o],i,r[s]);l.length===0&&(l[0]=t),r[s++]=l,t=l[l.length-1]}return r.length=s,r}function Qt(n,t,e,i,r,s,o){const a=(e-t)/i;if(a<3){for(;t<e;t+=i)s[o++]=n[t],s[o++]=n[t+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const h=[t,e-i];let u=0;for(;h.length>0;){const c=h.pop(),f=h.pop();let g=0;const y=n[f],d=n[f+1],p=n[c],_=n[c+1];for(let w=f+i;w<c;w+=i){const Ct=n[w],z=n[w+1],oe=wr(Ct,z,y,d,p,_);oe>g&&(u=w,g=oe)}g>r&&(l[(u-t)/i]=1,f+i<u&&h.push(f,u),u+i<c&&h.push(u,c))}for(let c=0;c<a;++c)l[c]&&(s[o++]=n[t+c*i],s[o++]=n[t+c*i+1]);return o}function Ur(n,t,e,i,r,s,o,a){for(let l=0,h=e.length;l<h;++l){const u=e[l];o=Qt(n,t,u,i,r,s,o),a.push(o),t=u}return o}function H(n,t){return t*Math.round(n/t)}function Vr(n,t,e,i,r,s,o){if(t==e)return o;let a=H(n[t],r),l=H(n[t+1],r);t+=i,s[o++]=a,s[o++]=l;let h,u;do if(h=H(n[t],r),u=H(n[t+1],r),t+=i,t==e)return s[o++]=h,s[o++]=u,o;while(h==a&&u==l);for(;t<e;){const c=H(n[t],r),f=H(n[t+1],r);if(t+=i,c==h&&f==u)continue;const g=h-a,y=u-l,d=c-a,p=f-l;if(g*p==y*d&&(g<0&&d<g||g==d||g>0&&d>g)&&(y<0&&p<y||y==p||y>0&&p>y)){h=c,u=f;continue}s[o++]=h,s[o++]=u,a=h,l=u,h=c,u=f}return s[o++]=h,s[o++]=u,o}function ln(n,t,e,i,r,s,o,a){for(let l=0,h=e.length;l<h;++l){const u=e[l];o=Vr(n,t,u,i,r,s,o),a.push(o),t=u}return o}function Dr(n,t,e,i,r,s,o,a){for(let l=0,h=e.length;l<h;++l){const u=e[l],c=[];o=ln(n,t,u,i,r,s,o,c),a.push(c),t=u[u.length-1]}return o}function hn(n,t,e,i,r){let s;for(t+=i;t<e;t+=i)if(s=r(n.slice(t-i,t),n.slice(t,t+i)),s)return s;return!1}function vt(n,t,e,i,r){r=r!==void 0?r:[];let s=0;for(let o=t;o<e;o+=i)r[s++]=n.slice(o,o+i);return r.length=s,r}function te(n,t,e,i,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=e.length;o<a;++o){const l=e[o];r[s++]=vt(n,t,l,i,r[s]),t=l}return r.length=s,r}function zr(n,t,e,i,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=e.length;o<a;++o){const l=e[o];r[s++]=l.length===1&&l[0]===t?[]:te(n,t,l,i,r[s]),t=l[l.length-1]}return r.length=s,r}function un(n,t,e,i,r,s,o){let a,l;const h=(e-t)/i;if(h===1)a=t;else if(h===2)a=t,l=r;else if(h!==0){let u=n[t],c=n[t+1],f=0;const g=[0];for(let p=t+i;p<e;p+=i){const _=n[p],w=n[p+1];f+=Math.sqrt((_-u)*(_-u)+(w-c)*(w-c)),g.push(f),u=_,c=w}const y=r*f,d=Xi(g,y);d<0?(l=(y-g[-d-2])/(g[-d-1]-g[-d-2]),a=t+(-d-2)*i):a=t+d*i}o=o>1?o:2,s=s||new Array(o);for(let u=0;u<o;++u)s[u]=a===void 0?NaN:l===void 0?n[a+u]:Vt(n[a+u],n[a+i+u],l);return s}function xt(n,t,e,i,r,s){if(e==t)return null;let o;if(r<n[t+i-1])return s?(o=n.slice(t,t+i),o[i-1]=r,o):null;if(n[e-1]<r)return s?(o=n.slice(e-i,e),o[i-1]=r,o):null;if(r==n[t+i-1])return n.slice(t,t+i);let a=t/i,l=e/i;for(;a<l;){const f=a+l>>1;r<n[(f+1)*i-1]?l=f:a=f+1}const h=n[a*i-1];if(r==h)return n.slice((a-1)*i,(a-1)*i+i);const u=n[(a+1)*i-1],c=(r-h)/(u-h);o=[];for(let f=0;f<i-1;++f)o.push(Vt(n[(a-1)*i+f],n[a*i+f],c));return o.push(r),o}function Jr(n,t,e,i,r,s,o){if(o)return xt(n,t,e[e.length-1],i,r,s);let a;if(r<n[i-1])return s?(a=n.slice(0,i),a[i-1]=r,a):null;if(n[n.length-1]<r)return s?(a=n.slice(n.length-i),a[i-1]=r,a):null;for(let l=0,h=e.length;l<h;++l){const u=e[l];if(t!=u){if(r<n[t+i-1])return null;if(r<=n[u-1])return xt(n,t,u,i,r,!1);t=u}}return null}function Kr(n,t,e,i,r){return!dr(r,function(o){return!j(n,t,e,i,o[0],o[1])})}function j(n,t,e,i,r,s){let o=0,a=n[e-i],l=n[e-i+1];for(;t<e;t+=i){const h=n[t],u=n[t+1];l<=s?u>s&&(h-a)*(s-l)-(r-a)*(u-l)>0&&o++:u<=s&&(h-a)*(s-l)-(r-a)*(u-l)<0&&o--,a=h,l=u}return o!==0}function ee(n,t,e,i,r,s){if(e.length===0||!j(n,t,e[0],i,r,s))return!1;for(let o=1,a=e.length;o<a;++o)if(j(n,e[o-1],e[o],i,r,s))return!1;return!0}function Wr(n,t,e,i,r,s){if(e.length===0)return!1;for(let o=0,a=e.length;o<a;++o){const l=e[o];if(ee(n,t,l,i,r,s))return!0;t=l[l.length-1]}return!1}function _t(n,t,e,i,r){const s=rn(Yt(),n,t,e,i);return _r(r,s)?ur(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:hn(n,t,e,i,function(o,a){return Cr(r,o,a)}):!1}function qr(n,t,e,i,r){for(let s=0,o=e.length;s<o;++s){if(_t(n,t,e[s],i,r))return!0;t=e[s]}return!1}function Zr(n,t,e,i,r){return!!(_t(n,t,e,i,r)||j(n,t,e,i,r[0],r[1])||j(n,t,e,i,r[0],r[3])||j(n,t,e,i,r[2],r[1])||j(n,t,e,i,r[2],r[3]))}function cn(n,t,e,i,r){if(!Zr(n,t,e[0],i,r))return!1;if(e.length===1)return!0;for(let s=1,o=e.length;s<o;++s)if(Kr(n,e[s-1],e[s],i,r)&&!_t(n,e[s-1],e[s],i,r))return!1;return!0}function Qr(n,t,e,i,r){for(let s=0,o=e.length;s<o;++s){const a=e[s];if(cn(n,t,a,i,r))return!0;t=a[a.length-1]}return!1}function ts(n,t,e,i){let r=n[t],s=n[t+1],o=0;for(let a=t+i;a<e;a+=i){const l=n[a],h=n[a+1];o+=Math.sqrt((l-r)*(l-r)+(h-s)*(h-s)),r=l,s=h}return o}class at extends X{constructor(t,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendCoordinate(t){this.flatCoordinates?O(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()}clone(){const t=new at(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,r){return r<B(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Jt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Wt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,r))}forEachSegment(t){return hn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,e){return this.layout!="XYM"&&this.layout!="XYZM"?null:(e=e!==void 0?e:!1,xt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e))}getCoordinates(){return vt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,e){return un(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)}getLength(){return ts(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const e=[];return e.length=Qt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new at(e,"XY")}getType(){return"LineString"}intersectsExtent(t){return _t(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=mt(this.flatCoordinates,0,t,this.stride),this.changed()}}const lt=at;function fn(n,t,e,i){let r=0,s=n[e-i],o=n[e-i+1];for(;t<e;t+=i){const a=n[t],l=n[t+1];r+=o*a-s*l,s=a,o=l}return r/2}function gn(n,t,e,i){let r=0;for(let s=0,o=e.length;s<o;++s){const a=e[s];r+=fn(n,t,a,i),t=a}return r}function es(n,t,e,i){let r=0;for(let s=0,o=e.length;s<o;++s){const a=e[s];r+=gn(n,t,a,i),t=a[a.length-1]}return r}class ht extends X{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}clone(){return new ht(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,i,r){return r<B(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Jt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Wt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,r))}getArea(){return fn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return vt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=Qt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new ht(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=mt(this.flatCoordinates,0,t,this.stride),this.changed()}}const Ne=ht;class ut extends X{constructor(t,e,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,e);else if(e!==void 0&&i)this.setFlatCoordinates(e,t),this.ends_=i;else{let r=this.getLayout();const s=t,o=[],a=[];for(let l=0,h=s.length;l<h;++l){const u=s[l];l===0&&(r=u.getLayout()),O(o,u.getFlatCoordinates()),a.push(o.length)}this.setFlatCoordinates(r,o),this.ends_=a}}appendLineString(t){this.flatCoordinates?O(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new ut(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,i,r){return r<B(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Kt(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),qt(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,r))}getCoordinateAtM(t,e,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(e=e!==void 0?e:!1,i=i!==void 0?i:!1,Jr(this.flatCoordinates,0,this.ends_,this.stride,t,e,i))}getCoordinates(){return te(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new lt(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,e=this.ends_,i=this.layout,r=[];let s=0;for(let o=0,a=e.length;o<a;++o){const l=e[o],h=new lt(t.slice(s,l),i);r.push(h),s=l}return r}getFlatMidpoints(){const t=[],e=this.flatCoordinates;let i=0;const r=this.ends_,s=this.stride;for(let o=0,a=r.length;o<a;++o){const l=r[o],h=un(e,i,l,s,.5);O(t,h),i=l}return t}getSimplifiedGeometryInternal(t){const e=[],i=[];return e.length=Ur(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,i),new ut(e,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(t){return qr(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Zt(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}const dn=ut;class ne extends X{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new ne(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,r){const s=this.flatCoordinates,o=L(t,e,s[0],s[1]);if(o<r){const a=this.stride;for(let l=0;l<a;++l)i[l]=s[l];return i.length=a,o}return r}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(t){return cr(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return tn(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Yr(this.flatCoordinates,0,t,this.stride),this.changed()}}const Z=ne;class ie extends X{constructor(t,e){super(),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendPoint(t){this.flatCoordinates?O(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()}clone(){const t=new ie(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,r){if(r<B(this.getExtent(),t,e))return r;const s=this.flatCoordinates,o=this.stride;for(let a=0,l=s.length;a<l;a+=o){const h=L(t,e,s[a],s[a+1]);if(h<r){r=h;for(let u=0;u<o;++u)i[u]=s[a+u];i.length=o}}return r}getCoordinates(){return vt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){const e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new Z(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,e=this.layout,i=this.stride,r=[];for(let s=0,o=t.length;s<o;s+=i){const a=new Z(t.slice(s,s+i),e);r.push(a)}return r}getType(){return"MultiPoint"}intersectsExtent(t){const e=this.flatCoordinates,i=this.stride;for(let r=0,s=e.length;r<s;r+=i){const o=e[r],a=e[r+1];if(tn(t,o,a))return!0}return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=mt(this.flatCoordinates,0,t,this.stride),this.changed()}}const re=ie;function pn(n,t,e,i,r,s,o){let a,l,h,u,c,f,g;const y=r[s+1],d=[];for(let w=0,Ct=e.length;w<Ct;++w){const z=e[w];for(u=n[z-i],f=n[z-i+1],a=t;a<z;a+=i)c=n[a],g=n[a+1],(y<=f&&g<=y||f<=y&&y<=g)&&(h=(y-f)/(g-f)*(c-u)+u,d.push(h)),u=c,f=g}let p=NaN,_=-1/0;for(d.sort(Je),u=d[0],a=1,l=d.length;a<l;++a){c=d[a];const w=Math.abs(c-u);w>_&&(h=(u+c)/2,ee(n,t,e,i,h,y)&&(p=h,_=w)),u=c}return isNaN(p)&&(p=r[s]),o?(o.push(p,y,_),o):[p,y,_]}function ns(n,t,e,i,r){let s=[];for(let o=0,a=e.length;o<a;++o){const l=e[o];s=pn(n,t,l,i,r,2*o,s),t=l[l.length-1]}return s}function is(n,t,e,i){for(;t<e-i;){for(let r=0;r<i;++r){const s=n[t+r];n[t+r]=n[e-i+r],n[e-i+r]=s}t+=i,e-=i}}function yn(n,t,e,i){let r=0,s=n[e-i],o=n[e-i+1];for(;t<e;t+=i){const a=n[t],l=n[t+1];r+=(a-s)*(l+o),s=a,o=l}return r===0?void 0:r>0}function mn(n,t,e,i,r){r=r!==void 0?r:!1;for(let s=0,o=e.length;s<o;++s){const a=e[s],l=yn(n,t,a,i);if(s===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;t=a}return!0}function rs(n,t,e,i,r){for(let s=0,o=e.length;s<o;++s){const a=e[s];if(!mn(n,t,a,i,r))return!1;a.length&&(t=a[a.length-1])}return!0}function At(n,t,e,i,r){r=r!==void 0?r:!1;for(let s=0,o=e.length;s<o;++s){const a=e[s],l=yn(n,t,a,i);(s===0?r&&l||!r&&!l:r&&!l||!r&&l)&&is(n,t,a,i),t=a}return t}function xe(n,t,e,i,r){for(let s=0,o=e.length;s<o;++s)t=At(n,t,e[s],i,r);return t}class ct extends X{constructor(t,e,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,e!==void 0&&i?(this.setFlatCoordinates(e,t),this.ends_=i):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?O(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new ct(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,i,r){return r<B(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Kt(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),qt(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,r))}containsXY(t,e){return ee(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return gn(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),At(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,te(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=Ut(this.getExtent());this.flatInteriorPoint_=pn(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Z(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new Ne(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,i=this.ends_,r=[];let s=0;for(let o=0,a=i.length;o<a;++o){const l=i[o],h=new Ne(e.slice(s,l),t);r.push(h),s=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;mn(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=At(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],i=[];return e.length=ln(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,i),new ct(e,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return cn(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Zt(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}const ft=ct;function ss(n,t,e,i){const r=[];let s=Yt();for(let o=0,a=e.length;o<a;++o){const l=e[o];s=nn(n,t,l[0],i),r.push((s[0]+s[2])/2,(s[1]+s[3])/2),t=l[l.length-1]}return r}class gt extends X{constructor(t,e,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){let r=this.getLayout();const s=t,o=[],a=[];for(let l=0,h=s.length;l<h;++l){const u=s[l];l===0&&(r=u.getLayout());const c=o.length,f=u.getEnds();for(let g=0,y=f.length;g<y;++g)f[g]+=c;O(o,u.getFlatCoordinates()),a.push(f)}e=r,t=o,i=a}e!==void 0&&i?(this.setFlatCoordinates(e,t),this.endss_=i):this.setCoordinates(t,e)}appendPolygon(t){let e;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;O(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(let r=0,s=e.length;r<s;++r)e[r]+=i}this.endss_.push(e),this.changed()}clone(){const t=this.endss_.length,e=new Array(t);for(let r=0;r<t;++r)e[r]=this.endss_[r].slice();const i=new gt(this.flatCoordinates.slice(),this.layout,e);return i.applyProperties(this),i}closestPointXY(t,e,i,r){return r<B(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Br(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Xr(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,r))}containsXY(t,e){return Wr(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}getArea(){return es(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),xe(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,zr(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=ss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=ns(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new re(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;rs(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=xe(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],i=[];return e.length=Dr(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,i),new gt(e,"XY",i)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let e;if(t===0)e=0;else{const s=this.endss_[t-1];e=s[s.length-1]}const i=this.endss_[t].slice(),r=i[i.length-1];if(e!==0)for(let s=0,o=i.length;s<o;++s)i[s]-=e;return new ft(this.flatCoordinates.slice(e,r),this.layout,i)}getPolygons(){const t=this.layout,e=this.flatCoordinates,i=this.endss_,r=[];let s=0;for(let o=0,a=i.length;o<a;++o){const l=i[o].slice(),h=l[l.length-1];if(s!==0)for(let c=0,f=l.length;c<f;++c)l[c]-=s;const u=new ft(e.slice(s,h),t,l);r.push(u),s=h}return r}getType(){return"MultiPolygon"}intersectsExtent(t){return Qr(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=Hr(this.flatCoordinates,0,t,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const r=i[i.length-1];this.flatCoordinates.length=r.length===0?0:r[r.length-1]}this.changed()}}const vn=gt;class dt extends an{constructor(t){super(),this.geometries_=t||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(st),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(q(this.geometries_[t],Bt.CHANGE,this.changed,this))}clone(){const t=new dt(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t}closestPointXY(t,e,i,r){if(r<B(this.getExtent(),t,e))return r;const s=this.geometries_;for(let o=0,a=s.length;o<a;++o)r=s[o].closestPointXY(t,e,i,r);return r}containsXY(t,e){const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)if(i[r].containsXY(t,e))return!0;return!1}computeExtent(t){Ht(t);const e=this.geometries_;for(let i=0,r=e.length;i<r;++i)fr(t,e[i].getExtent());return t}getGeometries(){return Ae(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const e=this.geometries_;for(let i=0,r=e.length;i<r;++i)e[i].getType()===this.getType()?t=t.concat(e[i].getGeometriesArrayRecursive()):t.push(e[i]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=[],i=this.geometries_;let r=!1;for(let s=0,o=i.length;s<o;++s){const a=i[s],l=a.getSimplifiedGeometry(t);e.push(l),l!==a&&(r=!0)}if(r){const s=new dt(null);return s.setGeometriesArray(e),s}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this}getType(){return"GeometryCollection"}intersectsExtent(t){const e=this.geometries_;for(let i=0,r=e.length;i<r;++i)if(e[i].intersectsExtent(t))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(t,e){const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)i[r].rotate(t,e);this.changed()}scale(t,e,i){i||(i=Ut(this.getExtent()));const r=this.geometries_;for(let s=0,o=r.length;s<o;++s)r[s].scale(t,e,i);this.changed()}setGeometries(t){this.setGeometriesArray(Ae(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const e=this.geometries_;for(let i=0,r=e.length;i<r;++i)e[i].applyTransform(t);this.changed()}translate(t,e){const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)i[r].translate(t,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function Ae(n){const t=[];for(let e=0,i=n.length;e<i;++e)t.push(n[e].clone());return t}const os=dt;class as extends on{constructor(t){t=t||{},super(),this.dataProjection=P(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=P(t.featureProjection)),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,e){let i=null;t.type==="Feature"?i=t:i={type:"Feature",geometry:t,properties:null};const r=Ot(i.geometry,e),s=new Ze;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&s.setGeometryName(i.geometry_name),s.setGeometry(r),"id"in i&&s.setId(i.id),i.properties&&s.setProperties(i.properties,!0),s}readFeaturesFromObject(t,e){const i=t;let r=null;if(i.type==="FeatureCollection"){const s=t;r=[];const o=s.features;for(let a=0,l=o.length;a<l;++a)r.push(this.readFeatureFromObject(o[a],e))}else r=[this.readFeatureFromObject(t,e)];return r}readGeometryFromObject(t,e){return Ot(t,e)}readProjectionFromObject(t){const e=t.crs;let i;if(e)if(e.type=="name")i=P(e.properties.name);else if(e.type==="EPSG")i=P("EPSG:"+e.properties.code);else throw new Error("Unknown SRS type");else i=this.dataProjection;return i}writeFeatureObject(t,e){e=this.adaptOptions(e);const i={type:"Feature",geometry:null,properties:null},r=t.getId();if(r!==void 0&&(i.id=r),!t.hasProperties())return i;const s=t.getProperties(),o=t.getGeometry();return o&&(i.geometry=Tt(o,e),delete s[t.getGeometryName()]),We(s)||(i.properties=s),i}writeFeaturesObject(t,e){e=this.adaptOptions(e);const i=[];for(let r=0,s=t.length;r<s;++r)i.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:i}}writeGeometryObject(t,e){return Tt(t,this.adaptOptions(e))}}function Ot(n,t){if(!n)return null;let e;switch(n.type){case"Point":{e=hs(n);break}case"LineString":{e=us(n);break}case"Polygon":{e=ds(n);break}case"MultiPoint":{e=fs(n);break}case"MultiLineString":{e=cs(n);break}case"MultiPolygon":{e=gs(n);break}case"GeometryCollection":{e=ls(n);break}default:throw new Error("Unsupported GeoJSON type: "+n.type)}return zt(e,!1,t)}function ls(n,t){const e=n.geometries.map(function(i){return Ot(i,t)});return new os(e)}function hs(n){return new Z(n.coordinates)}function us(n){return new lt(n.coordinates)}function cs(n){return new dn(n.coordinates)}function fs(n){return new re(n.coordinates)}function gs(n){return new vn(n.coordinates)}function ds(n){return new ft(n.coordinates)}function Tt(n,t){n=zt(n,!0,t);const e=n.getType();let i;switch(e){case"Point":{i=bs(n);break}case"LineString":{i=ys(n);break}case"Polygon":{i=Cs(n,t);break}case"MultiPoint":{i=vs(n);break}case"MultiLineString":{i=ms(n);break}case"MultiPolygon":{i=_s(n,t);break}case"GeometryCollection":{i=ps(n,t);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+e)}return i}function ps(n,t){return t=Object.assign({},t),delete t.featureProjection,{type:"GeometryCollection",geometries:n.getGeometriesArray().map(function(i){return Tt(i,t)})}}function ys(n,t){return{type:"LineString",coordinates:n.getCoordinates()}}function ms(n,t){return{type:"MultiLineString",coordinates:n.getCoordinates()}}function vs(n,t){return{type:"MultiPoint",coordinates:n.getCoordinates()}}function _s(n,t){let e;return t&&(e=t.rightHanded),{type:"MultiPolygon",coordinates:n.getCoordinates(e)}}function bs(n,t){return{type:"Point",coordinates:n.getCoordinates()}}function Cs(n,t){let e;return t&&(e=t.rightHanded),{type:"Polygon",coordinates:n.getCoordinates(e)}}const ws=as;class Es extends on{constructor(t){super(),t=t||{},this.layerName_=t.layerName,this.layers_=t.layers?t.layers:null,this.dataProjection=P(t.dataProjection?t.dataProjection:"EPSG:4326")}readFeaturesFromObject(t,e){if(t.type=="Topology"){const i=t;let r,s=null,o=null;i.transform&&(r=i.transform,s=r.scale,o=r.translate);const a=i.arcs;r&&As(a,s,o);const l=[],h=i.objects,u=this.layerName_;let c;for(const f in h)this.layers_&&!this.layers_.includes(f)||(h[f].type==="GeometryCollection"?(c=h[f],l.push.apply(l,xs(c,a,s,o,u,f,e))):(c=h[f],l.push(_n(c,a,s,o,u,f,e))));return l}return[]}readProjectionFromObject(t){return this.dataProjection}}const Ss={Point:Ps,LineString:Gs,Polygon:Ms,MultiPoint:Rs,MultiLineString:Fs,MultiPolygon:Ns};function bt(n,t){const e=[];let i;for(let r=0,s=n.length;r<s;++r)if(i=n[r],r>0&&e.pop(),i>=0){const o=t[i];for(let a=0,l=o.length;a<l;++a)e.push(o[a].slice(0))}else{const o=t[~i];for(let a=o.length-1;a>=0;--a)e.push(o[a].slice(0))}return e}function Ps(n,t,e){const i=n.coordinates;return t&&e&&se(i,t,e),new Z(i)}function Rs(n,t,e){const i=n.coordinates;if(t&&e)for(let r=0,s=i.length;r<s;++r)se(i[r],t,e);return new re(i)}function Gs(n,t){const e=bt(n.arcs,t);return new lt(e)}function Fs(n,t){const e=[];for(let i=0,r=n.arcs.length;i<r;++i)e[i]=bt(n.arcs[i],t);return new dn(e)}function Ms(n,t){const e=[];for(let i=0,r=n.arcs.length;i<r;++i)e[i]=bt(n.arcs[i],t);return new ft(e)}function Ns(n,t){const e=[];for(let i=0,r=n.arcs.length;i<r;++i){const s=n.arcs[i],o=[];for(let a=0,l=s.length;a<l;++a)o[a]=bt(s[a],t);e[i]=o}return new vn(e)}function xs(n,t,e,i,r,s,o){const a=n.geometries,l=[];for(let h=0,u=a.length;h<u;++h)l[h]=_n(a[h],t,e,i,r,s,o);return l}function _n(n,t,e,i,r,s,o){let a=null;const l=n.type;if(l){const c=Ss[l];l==="Point"||l==="MultiPoint"?a=c(n,e,i):a=c(n,t),a=zt(a,!1,o)}const h=new Ze({geometry:a});n.id!==void 0&&h.setId(n.id);let u=n.properties;return r&&(u||(u={}),u[r]=s),u&&h.setProperties(u,!0),h}function As(n,t,e){for(let i=0,r=n.length;i<r;++i)Os(n[i],t,e)}function Os(n,t,e){let i=0,r=0;for(let s=0,o=n.length;s<o;++s){const a=n[s];i+=a[0],r+=a[1],a[0]=i,a[1]=r,se(a,t,e)}}function se(n,t,e){n[0]=n[0]*t[0]+e[0],n[1]=n[1]*t[1]+e[1]}const Ts=Es;function Is(n){const t={type:"FeatureCollection",features:[]},e=new ws,i=new Ts,r=s=>{try{t.features.push(...e.writeFeaturesObject(i.readFeatures(s.payload)).features)}catch(o){console.log(o)}Object.values(s.children||{}).map(r)};return r(n),t}const ks=$({components:{ElButton:xi},data(){return{loading:!1}},methods:{uploadFile(){const n=Array.from(this.$refs.input.files);return this.$refs.input.value="",this.loading=!0,Promise.all(n.map(async t=>{const e=await Ai(t),i=Is(e);i.features.length&&Ii(JSON.stringify(i),`${e.name}.json`)})).finally(()=>this.loading=!1)},triggerUpload(){this.$refs.input.click()}}}),js={class:"padding-medium"},Ls=M("div",{class:"margin-top-base"},[M("a",{target:"_blank",href:"http://datav.aliyun.com/portal/school/atlas/level_generator"},"DataVJSON（导出层级(开放格式）"),kt(": "),M("pre",null,[M("code",null,"{ name: string; payload: TopoJSON; children: {...} }")])],-1),$s=M("div",{class:"margin-top-base"},[kt(" GeoJSON: "),M("pre",null,[M("code",null,"{ type: 'FeatureCollection', features: [] }")])],-1);function Bs(n,t,e,i,r,s){const o=Mn("el-button");return G(),D("div",js,[Nn(o,{onClick:n.triggerUpload,loading:n.loading},{default:rt(()=>[kt(" DataVJSON To GeoJSON ")]),_:1},8,["onClick","loading"]),M("input",{onChange:t[0]||(t[0]=(...a)=>n.uploadFile&&n.uploadFile(...a)),style:{position:"absolute",top:"-99999px"},ref:"input",type:"file",accept:".json",multiple:""},null,544),Ls,$s])}const Ys=Fn(ks,[["render",Bs]]);export{Ys as default};
