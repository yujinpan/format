import{c as Ee,b as z,i as G,a as A,u as te,d as ne,e as se,f as q,_ as H,g as Te,h as ie,j as re,w as de,k as ue,l as U,m as Ne,n as Be,E as N,o as Ae,p as _e,q as $e,A as oe,r as Pe,s as Re,t as Fe,v as Ge,x as Le}from"./utils-ee3f88bc.js";import{i as L,g as _,h as Oe,j as g,d as E,o as d,c as S,b as p,k as ce,v as pe,u as e,l as ve,n as v,m as O,p as X,q as Z,f as B,t as w,x as Y,y as fe,z as ze,A as De,B as Je,C as j,D as Ue,E as C,w as T,G as R,H as I,e as F,I as Ke,J as le,_ as je,r as K,K as Me,F as qe,a as He}from"./index-c6c34a22.js";class Ye extends Error{constructor(r){super(r),this.name="ElementPlusError"}}function We(a,r){throw new Ye(`[${a}] ${r}`)}const $="update:modelValue",M="change",W="input",Qe=a=>["",...Ee].includes(a),me=z({size:te,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Xe=z({...me,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),be={[$]:a=>L(a)||G(a)||A(a),[M]:a=>L(a)||G(a)||A(a)},he=Symbol("radioGroupKey"),ge=(a,r)=>{const s=_(),o=Oe(he,void 0),y=g(()=>!!o),k=g({get(){return y.value?o.modelValue:a.modelValue},set(i){y.value?o.changeEvent(i):r&&r($,i),s.value.checked=a.modelValue===a.label}}),f=ne(g(()=>o==null?void 0:o.size)),t=se(g(()=>o==null?void 0:o.disabled)),c=_(!1),m=g(()=>t.value||y.value&&k.value!==a.label?-1:0);return{radioRef:s,isGroup:y,radioGroup:o,focus:c,size:f,disabled:t,tabIndex:m,modelValue:k}},Ze=["value","name","disabled"],xe=E({name:"ElRadio"}),ea=E({...xe,props:Xe,emits:be,setup(a,{emit:r}){const s=a,o=q("radio"),{radioRef:y,radioGroup:k,focus:f,size:t,disabled:c,modelValue:m}=ge(s,r);function i(){Z(()=>r("change",m.value))}return(n,u)=>{var V;return d(),S("label",{class:v([e(o).b(),e(o).is("disabled",e(c)),e(o).is("focus",e(f)),e(o).is("bordered",n.border),e(o).is("checked",e(m)===n.label),e(o).m(e(t))])},[p("span",{class:v([e(o).e("input"),e(o).is("disabled",e(c)),e(o).is("checked",e(m)===n.label)])},[ce(p("input",{ref_key:"radioRef",ref:y,"onUpdate:modelValue":u[0]||(u[0]=P=>ve(m)?m.value=P:null),class:v(e(o).e("original")),value:n.label,name:n.name||((V=e(k))==null?void 0:V.name),disabled:e(c),type:"radio",onFocus:u[1]||(u[1]=P=>f.value=!0),onBlur:u[2]||(u[2]=P=>f.value=!1),onChange:i,onClick:u[3]||(u[3]=O(()=>{},["stop"]))},null,42,Ze),[[pe,e(m)]]),p("span",{class:v(e(o).e("inner"))},null,2)],2),p("span",{class:v(e(o).e("label")),onKeydown:u[4]||(u[4]=O(()=>{},["stop"]))},[X(n.$slots,"default",{},()=>[B(w(n.label),1)])],34)],2)}}});var aa=H(ea,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const oa=z({...me,name:{type:String,default:""}}),la=["value","name","disabled"],ta=E({name:"ElRadioButton"}),na=E({...ta,props:oa,setup(a){const r=a,s=q("radio"),{radioRef:o,focus:y,size:k,disabled:f,modelValue:t,radioGroup:c}=ge(r),m=g(()=>({backgroundColor:(c==null?void 0:c.fill)||"",borderColor:(c==null?void 0:c.fill)||"",boxShadow:c!=null&&c.fill?`-1px 0 0 0 ${c.fill}`:"",color:(c==null?void 0:c.textColor)||""}));return(i,n)=>{var u;return d(),S("label",{class:v([e(s).b("button"),e(s).is("active",e(t)===i.label),e(s).is("disabled",e(f)),e(s).is("focus",e(y)),e(s).bm("button",e(k))])},[ce(p("input",{ref_key:"radioRef",ref:o,"onUpdate:modelValue":n[0]||(n[0]=V=>ve(t)?t.value=V:null),class:v(e(s).be("button","original-radio")),value:i.label,type:"radio",name:i.name||((u=e(c))==null?void 0:u.name),disabled:e(f),onFocus:n[1]||(n[1]=V=>y.value=!0),onBlur:n[2]||(n[2]=V=>y.value=!1),onClick:n[3]||(n[3]=O(()=>{},["stop"]))},null,42,la),[[pe,e(t)]]),p("span",{class:v(e(s).be("button","inner")),style:Y(e(t)===i.label?e(m):{}),onKeydown:n[4]||(n[4]=O(()=>{},["stop"]))},[X(i.$slots,"default",{},()=>[B(w(i.label),1)])],38)],2)}}});var ye=H(na,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const sa=z({id:{type:String,default:void 0},size:te,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),ia=be,ra=["id","aria-label","aria-labelledby"],da=E({name:"ElRadioGroup"}),ua=E({...da,props:sa,emits:ia,setup(a,{emit:r}){const s=a,o=q("radio"),y=Te(),k=_(),{formItem:f}=ie(),{inputId:t,isLabeledByFormItem:c}=re(s,{formItemContext:f}),m=n=>{r($,n),Z(()=>r("change",n))};fe(()=>{const n=k.value.querySelectorAll("[type=radio]"),u=n[0];!Array.from(n).some(V=>V.checked)&&u&&(u.tabIndex=0)});const i=g(()=>s.name||y.value);return ze(he,De({...Je(s),changeEvent:m,name:i})),j(()=>s.modelValue,()=>{s.validateEvent&&(f==null||f.validate("change").catch(n=>void 0))}),(n,u)=>(d(),S("div",{id:e(t),ref_key:"radioGroupRef",ref:k,class:v(e(o).b("group")),role:"radiogroup","aria-label":e(c)?void 0:n.label||"radio-group","aria-labelledby":e(c)?e(f).labelId:void 0},[X(n.$slots,"default")],10,ra))}});var ke=H(ua,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);de(aa,{RadioButton:ye,RadioGroup:ke});const ca=ue(ke),pa=ue(ye),va=z({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:Qe},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:U},activeActionIcon:{type:U},activeIcon:{type:U},inactiveIcon:{type:U},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Ne(Function)},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1}}),fa={[$]:a=>A(a)||L(a)||G(a),[M]:a=>A(a)||L(a)||G(a),[W]:a=>A(a)||L(a)||G(a)},ma=["onClick"],ba=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],ha=["aria-hidden"],ga=["aria-hidden"],ya=["aria-hidden"],Q="ElSwitch",ka=E({name:Q}),Sa=E({...ka,props:va,emits:fa,setup(a,{expose:r,emit:s}){const o=a,y=Ke(),{formItem:k}=ie(),f=ne(),t=q("switch");(l=>{l.forEach(h=>{_e({from:h[0],replacement:h[1],scope:Q,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},g(()=>{var J;return!!((J=y.vnode.props)!=null&&J[h[2]])}))})})([['"value"','"model-value" or "v-model"',"value"],['"active-color"',"CSS var `--el-switch-on-color`","activeColor"],['"inactive-color"',"CSS var `--el-switch-off-color`","inactiveColor"],['"border-color"',"CSS var `--el-switch-border-color`","borderColor"]]);const{inputId:m}=re(o,{formItemContext:k}),i=se(g(()=>o.loading)),n=_(o.modelValue!==!1),u=_(),V=_(),P=g(()=>[t.b(),t.m(f.value),t.is("disabled",i.value),t.is("checked",b.value)]),Se=g(()=>[t.e("label"),t.em("label","left"),t.is("active",!b.value)]),Ce=g(()=>[t.e("label"),t.em("label","right"),t.is("active",b.value)]),Ve=g(()=>({width:Be(o.width)}));j(()=>o.modelValue,()=>{n.value=!0}),j(()=>o.value,()=>{n.value=!1});const x=g(()=>n.value?o.modelValue:o.value),b=g(()=>x.value===o.activeValue);[o.activeValue,o.inactiveValue].includes(x.value)||(s($,o.inactiveValue),s(M,o.inactiveValue),s(W,o.inactiveValue)),j(b,l=>{var h;u.value.checked=l,o.validateEvent&&((h=k==null?void 0:k.validate)==null||h.call(k,"change").catch(J=>void 0))});const D=()=>{const l=b.value?o.inactiveValue:o.activeValue;s($,l),s(M,l),s(W,l),Z(()=>{u.value.checked=b.value})},ee=()=>{if(i.value)return;const{beforeChange:l}=o;if(!l){D();return}const h=l();[le(h),A(h)].includes(!0)||We(Q,"beforeChange must return type `Promise<boolean>` or `boolean`"),le(h)?h.then(ae=>{ae&&D()}).catch(ae=>{}):h&&D()},Ie=g(()=>t.cssVarBlock({...o.activeColor?{"on-color":o.activeColor}:null,...o.inactiveColor?{"off-color":o.inactiveColor}:null,...o.borderColor?{"border-color":o.borderColor}:null})),we=()=>{var l,h;(h=(l=u.value)==null?void 0:l.focus)==null||h.call(l)};return fe(()=>{u.value.checked=b.value}),r({focus:we,checked:b}),(l,h)=>(d(),S("div",{class:v(e(P)),style:Y(e(Ie)),onClick:O(ee,["prevent"])},[p("input",{id:e(m),ref_key:"input",ref:u,class:v(e(t).e("input")),type:"checkbox",role:"switch","aria-checked":e(b),"aria-disabled":e(i),name:l.name,"true-value":l.activeValue,"false-value":l.inactiveValue,disabled:e(i),tabindex:l.tabindex,onChange:D,onKeydown:Ue(ee,["enter"])},null,42,ba),!l.inlinePrompt&&(l.inactiveIcon||l.inactiveText)?(d(),S("span",{key:0,class:v(e(Se))},[l.inactiveIcon?(d(),C(e(N),{key:0},{default:T(()=>[(d(),C(R(l.inactiveIcon)))]),_:1})):I("v-if",!0),!l.inactiveIcon&&l.inactiveText?(d(),S("span",{key:1,"aria-hidden":e(b)},w(l.inactiveText),9,ha)):I("v-if",!0)],2)):I("v-if",!0),p("span",{ref_key:"core",ref:V,class:v(e(t).e("core")),style:Y(e(Ve))},[l.inlinePrompt?(d(),S("div",{key:0,class:v(e(t).e("inner"))},[l.activeIcon||l.inactiveIcon?(d(),C(e(N),{key:0,class:v(e(t).is("icon"))},{default:T(()=>[(d(),C(R(e(b)?l.activeIcon:l.inactiveIcon)))]),_:1},8,["class"])):l.activeText||l.inactiveText?(d(),S("span",{key:1,class:v(e(t).is("text")),"aria-hidden":!e(b)},w(e(b)?l.activeText:l.inactiveText),11,ga)):I("v-if",!0)],2)):I("v-if",!0),p("div",{class:v(e(t).e("action"))},[l.loading?(d(),C(e(N),{key:0,class:v(e(t).is("loading"))},{default:T(()=>[F(e(Ae))]),_:1},8,["class"])):l.activeActionIcon&&e(b)?(d(),C(e(N),{key:1},{default:T(()=>[(d(),C(R(l.activeActionIcon)))]),_:1})):l.inactiveActionIcon&&!e(b)?(d(),C(e(N),{key:2},{default:T(()=>[(d(),C(R(l.inactiveActionIcon)))]),_:1})):I("v-if",!0)],2)],6),!l.inlinePrompt&&(l.activeIcon||l.activeText)?(d(),S("span",{key:1,class:v(e(Ce))},[l.activeIcon?(d(),C(e(N),{key:0},{default:T(()=>[(d(),C(R(l.activeIcon)))]),_:1})):I("v-if",!0),!l.activeIcon&&l.activeText?(d(),S("span",{key:1,"aria-hidden":!e(b)},w(l.activeText),9,ya)):I("v-if",!0)],2)):I("v-if",!0)],14,ma))}});var Ca=H(Sa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Va=de(Ca),Ia=E({components:{ElButton:$e,ElSwitch:Va,ElRadioGroup:ca,ElRadioButton:pa},data(){return{loading:!1,keepAreaTree:!1,saveLevel:oe.DISTRICT,removeParentNode:!1,AreaLevels:Pe,AreaLevel:oe}},methods:{downloadJson(a,r){Re(JSON.stringify(a),`${r}.json`)},uploadFile(){const a=Array.from(this.$refs.input.files);return this.$refs.input.value="",this.loading=!0,Promise.all(a.map(async r=>{const s=await Fe(r);if(this.keepAreaTree){const o=Ge(s,this.saveLevel,this.removeParentNode);this.downloadJson(o,s.name)}else{const o=Le(s);o.features.length&&this.downloadJson(o,s.name)}})).finally(()=>this.loading=!1)},triggerUpload(){this.$refs.input.click()}}}),wa=Me('<h3 class="margin-top-medium">DataVJSON To GeoJSON</h3><div class="margin-top-base"><a target="_blank" href="http://datav.aliyun.com/portal/school/atlas/level_generator">DataVJSON（层级.json(开放格式)）</a>: <pre><code>{ name: string; payload: TopoJSON; children: {...} }</code></pre></div><div class="margin-top-base"> GeoJSON: <pre><code>{ type: &#39;FeatureCollection&#39;, features: [] }</code></pre></div><h3 class="margin-top-medium">Options</h3>',4),Ea={class:"margin-top-base"},Ta=p("span",null,"Keep Area Tree",-1),Na=p("pre",null,[p("code",null,"[{ code, name, children, geojson }]")],-1),Ba={key:0},Aa={class:"margin-top-base"},_a=p("span",null,"Save Level",-1),$a={class:"margin-top-base"},Pa={class:"margin-top-base"},Ra=p("span",null,"Remove Parent Node",-1);function Fa(a,r,s,o,y,k){const f=K("el-button"),t=K("el-switch"),c=K("ElRadioButton"),m=K("ElRadioGroup");return d(),S("div",null,[F(f,{onClick:a.triggerUpload,loading:a.loading},{default:T(()=>[B(" Upload Files ")]),_:1},8,["onClick","loading"]),p("input",{onChange:r[0]||(r[0]=(...i)=>a.uploadFile&&a.uploadFile(...i)),style:{position:"absolute",top:"-99999px"},ref:"input",type:"file",accept:".json",multiple:""},null,544),wa,p("ul",null,[p("li",Ea,[Ta,B("   "),F(t,{modelValue:a.keepAreaTree,"onUpdate:modelValue":r[1]||(r[1]=i=>a.keepAreaTree=i)},null,8,["modelValue"]),Na,a.keepAreaTree?(d(),S("ul",Ba,[p("li",Aa,[_a,B("   "),F(m,{modelValue:a.saveLevel,"onUpdate:modelValue":r[2]||(r[2]=i=>a.saveLevel=i)},{default:T(()=>[(d(!0),S(qe,null,He(a.AreaLevels,i=>(d(),C(c,{key:i,value:i,label:i},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),p("pre",$a,"- "+w(a.AreaLevel.COUNTRY)+`
  - `+w(a.AreaLevel.PROVINCE)+`
    - `+w(a.AreaLevel.CITY)+`
      - `+w(a.AreaLevel.DISTRICT)+`
            `,1)]),p("li",Pa,[Ra,B("   "),F(t,{modelValue:a.removeParentNode,"onUpdate:modelValue":r[3]||(r[3]=i=>a.removeParentNode=i)},null,8,["modelValue"])])])):I("",!0)])])])}const Oa=je(Ia,[["render",Fa]]);export{Oa as default};
